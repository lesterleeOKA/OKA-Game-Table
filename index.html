<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Starwish Party Demo Page</title>
  <link rel="stylesheet" href="./css/demo.css">
</head>
<body>
  <div class="background"></div>
  <div class="starwish-party-container">
    <div class="starwish-party">
      <div class="logo"></div>
      <div class="note">
        <br>
        Note: These games are demo only. They are not the final games.
        <br>
        Recommend to use iPad to play.
      </div>
      <div class="game-container">
        <div class="game-card">
            <img src="./image/screen_mpair.jpg" alt="Game 1" class="game-image"/>
            <label class="switch">
              <input type="checkbox" id="mp-bg-remove">
              <span class="slider"></span>
            </label>
            <h1 class="game-title">Game 2: Motion Phonics</h1>
            <div class="game-controls">
              <select id="mpcard-unit-picker" style="overflow-y:auto;">
                <option value="p1u1-c">P1U1-Game C (Pair)</option>
                <option value="p1u2-d">P1U2-Game D (Pair)</option>
                <option value="p1u3-c">P1U3-Game C (Picture)</option>
                <option value="p2u1-c">P2U1-Game C (Pair)</option>
                <option value="p2u2-c">P2U2-Game C (Pair)</option>
              </select>
              <button id="phonicsBtn" class="play-button">Play</button>
            </div>
            <h1 class="note">*Questions are not final</h1>
        </div>
        <div class="game-card">
            <img src="./image/screen_snake.jpg" alt="Game 2" class="game-image" />
            <h1 class="game-title">Game 3: Spelling</h1>
            <div class="game-controls">
              <select id="snake-unit-picker" style="overflow-y:auto;">
                <option value="p1u1-d">P1U1-Game D (Picture)</option>
                <option value="p1u2-d">P1U2-Game D (Picture)</option>
                <option value="p1u3-d">P1U3-Game D (Listening)</option>
                <option value="p1u5-d">P1U5-Game D (Listening)</option>
                <option value="p1u6-d">P1U6-Game D (Picture)</option>
              </select>
              <button id="snakeBtn" class="play-button">Play</button>
            </div>
        </div>
        <div class="game-card">
            <img src="./image/screen_type.jpg" alt="Game 3" class="game-image" />
            <h1 class="game-title">Game 4: Typing</h1>
            <div class="game-controls">
              <select id="typing-unit-picker" style="overflow-y:auto;">
                <option value="p1u1-b">P1U1-Game B (Type)</option>
                <option value="p1u2-b">P1U2-Game B (Type)</option>
                <option value="p1u3-b">P1U3-Game B (Type)</option>
                <option value="p1u4-b">P1U4-Game B (Type)</option>
                <option value="p1u5-b">P1U5-Game B (Type)</option>
                <option value="p1u6-b">P1U6-Game B (Type)</option>
              </select>
              <button id="typingBtn" class="play-button">Play</button>
            </div>
        </div>
        <div class="game-card">
            <img src="./image/screen_mspell.jpg" alt="Game 4" class="game-image" />
            <label class="switch">
              <input type="checkbox" id="ms-bg-remove">
              <span class="slider"></span>
            </label>
            <h1 class="game-title">Game 5: Motion Spelling</h1>
            <div class="game-controls">
              <select  id="mspell-unit-picker" style="overflow-y:auto;">
                <!--<option value="p1u1">mspell (test)</option>
                <option value="p3u1-e">mspell-mc (test)</option>-->
                <option value="p1u1-b">P1U1-Game B (Spelling)</option>
                <option value="p1u2-a">P1U1-Game B (Spelling)</option>
                <option value="p1u3-a">P1U3-Game A (Listening)</option>
                <option value="p2u2-d">P2U2-Game D (Listening)</option>
                <option value="p2u3-c">P2U3-Game C (Listening)</option>
                <option value="p3u2-c">P3U2-Game C (Listening)</option>
                <option value="p3u5-c">P3U5-Game C (Listening)</option>
                <option value="p5u3-c">P5U3-Game C (Picture)</option>
              </select>
              <button id="mspellingBtn" class="play-button">Play</button>
            </div>
        </div>
        <div class="game-card">
          <img src="./image/mhead_preview.jpg" alt="Game 4" class="game-image" />
          <label class="switch">
            <input type="checkbox" id="ms-bg-remove">
            <span class="slider"></span>
          </label>
          <h1 class="game-title">Game 8: Head To Win</h1>
          <div class="game-controls">
            <select  id="mhead-unit-picker" style="overflow-y:auto;">
              <option value="p1u1-a">P1U1-Game A (Listening)</option>
              <option value="p1u3-e">P1U3-Game E (Text)</option>
              <option value="p2u1-e">P2U1-Game E (Text)</option>
            </select>
            <button id="headToWinBtn" class="play-button">Play</button>
          </div>
        </div>
        <div class="game-card">
          <img src="./image/jump_to_survive_preview.png" alt="Game 4" class="game-image" />
          <h1 class="game-title">Game 12: Jump To Survive</h1>
          <div class="game-controls">
            <select  id="jump-unit-picker" style="overflow-y:auto;">
              <option value="p1u1-a">P1U1-Game A (Testing)</option>
            </select>
            <button id="jumpToSurviveBtn" class="play-button">Play</button>
          </div>
        </div>

    </div>
  </div>
  <div class="version-text">Ver 1.06</div>
  <script type="module">
      import RainbowOneUtils from './js/script.js';
      RainbowOneUtils.nodoubletapzoom();
      //RainbowOneUtils.hideURLPath();

      let mp_removalStatus = "";
      const mpbgRemoveSwitch = document.getElementById('mp-bg-remove');
      mpbgRemoveSwitch.checked = false;
      mpbgRemoveSwitch.addEventListener('change', function() {
          if (this.checked) {
            mp_removalStatus = "&removal=1";
            console.log('Switch is on!', mp_removalStatus);
          } else {
            mp_removalStatus = "";
            console.log('Switch is off!', mp_removalStatus);
          }
      });
      
      let ms_removalStatus = "";
      const msbgRemoveSwitch = document.getElementById('ms-bg-remove');
      msbgRemoveSwitch.checked = false;
      msbgRemoveSwitch.addEventListener('change', function() {
          if (this.checked) {
            ms_removalStatus = "&removal=1";
            console.log('Switch is on!', ms_removalStatus);
          } else {
            ms_removalStatus = "";
            console.log('Switch is off!', ms_removalStatus);
          }
      });

      const phonicsBtn = document.getElementById('phonicsBtn');
      const snakeBtn = document.getElementById('snakeBtn');
      const typingBtn = document.getElementById('typingBtn');
      const mspellingBtn = document.getElementById('mspellingBtn');
      const headToWinBtn = document.getElementById('headToWinBtn');
      const jumpToSurviveBtn = document.getElementById('jumpToSurviveBtn');

      phonicsBtn.addEventListener('click', handleButtonClick);
      snakeBtn.addEventListener('click', handleButtonClick);
      typingBtn.addEventListener('click', handleButtonClick);
      mspellingBtn.addEventListener('click', handleButtonClick);
      headToWinBtn.addEventListener('click', handleButtonClick);
      jumpToSurviveBtn.addEventListener('click', handleButtonClick);

      phonicsBtn.addEventListener('touchend', handleButtonClick);
      snakeBtn.addEventListener('touchend', handleButtonClick);
      typingBtn.addEventListener('touchend', handleButtonClick);
      mspellingBtn.addEventListener('touchend', handleButtonClick);
      headToWinBtn.addEventListener('touchend', handleButtonClick);
      jumpToSurviveBtn.addEventListener('touchend', handleButtonClick);

      function handleButtonClick(event) {
        event.preventDefault(); // Prevent default touch behavior
        
        if (event.type === 'click' || event.type === 'touchend') {
          const target = event.currentTarget;
          if (target.id === 'phonicsBtn') {
            RainbowOneUtils.updatePhonicsGameLink(mp_removalStatus);
          } else if (target.id === 'snakeBtn') {
            RainbowOneUtils.updateSnakeGameLink();
          } else if (target.id === 'typingBtn') {
            RainbowOneUtils.updateTypingGameLink();
          } else if (target.id === 'mspellingBtn') {
            RainbowOneUtils.updateSpellingGameLink(ms_removalStatus);
          } else if (target.id === 'headToWinBtn') {
            RainbowOneUtils.updateHeadToWinGameLink(ms_removalStatus);
          } else if (target.id === 'jumpToSurviveBtn') {
            RainbowOneUtils.updateJumpToSurviveGameLink();
          }
        }
      }
  </script>
</body>
</html>